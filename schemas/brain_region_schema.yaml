id: https://brain-connects.org/ic3-brain-region-schema
name: brain_region_schema
description: Brain region hierarchical structure.
prefixes:
  linkml: https://w3id.org/linkml/
  schema: http://schema.org/
  skos: http://www.w3.org/2004/02/skos/core#
  cc: https://brain-connects.org/cc/
default_prefix: cc
default_range: string
imports:
  - base_schema

classes:
  BrainRegion:
    description: A brain region (node) in the common coordinate framework hierarchy.
    slots:
      - id
      - name
      - parent_identifier
      - child_identifiers
      - acronym
      - hex_color
      - term_set_name
      - annotation_value
      - descendants
      - descendant_annotation_values
    # BrainRegion may often be global; include ProjectScoped only if some regions are project-specific.
    # Commented out by default to keep ontology global.
    # mixins:
    #   - ProjectScoped
    slot_usage:
      parent_identifier:
        # Object reference to parent BrainRegion (embed via identifier)
        range: BrainRegion
        slot_uri: skos:broader
        inlined: false
        # Not all regions have a parent (root of hierarchy), so keep optional
      child_identifiers:
        # Direct object references to child BrainRegion instances.
        multivalued: true
        range: BrainRegion
        inlined: false
        slot_uri: skos:narrower
      hex_color:
        description: Hex RGB color assigned to this region (from source ontology).
      annotation_value:
        description: Source-specific annotation value for this region. Should align to an annotation volume for a particular atlas.
      term_set_name:
        description: Name of the term set this row came from. Term sets are cuts across the hierachy that represent a similar level of biological detail and cover the entire tree.  
      descendants:
        multivalued: true
        range: BrainRegion
        inlined: false
        description: Direct object references to all descendant regions anywhere below this node.
      descendant_annotation_values:
        description: Collected annotation values for descendant regions, Descendants meaning anything down the tree from this node. Useful when relabelling an annotation volume which is often labelled with the voxel farthest down the tree. 
  BrainRegionAssociation:
    description: "An association between a DataItem and a BrainRegion"
    slots:
      - brainregion_id
      - dataitem_id


slots:
  brainregion_id:
    description: "what brain region an item is associated with"
    range: BrainRegion
    inlined: false
  parent_identifier:
    description: Reference to broader brain region.
    aliases:
      - parent_id
      - parent_structure_id
  child_identifiers:
    description: Narrower brain regions nested under this region.
    aliases:
      - child_ids
      - child_structure_ids
  acronym:
    description: Short region acronym.
    aliases:
      - structure_acronym
      - region_acronym
      - abbreviation
  term_set_name:
    description: Name/version label of the ontology or term set.
  annotation_value:
    description: Region-specific annotation metric or tag from source dataset.
    range: integer
  descendants:
    description: Object references to descendant BrainRegion nodes.
    range: BrainRegion
    inlined: false
    multivalued: true
  descendant_annotation_values:
    multivalued: true
    description: Annotation values aggregated from descendant regions.
    range: integer
