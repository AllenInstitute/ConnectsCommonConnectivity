id: https://brain-connects.org/ic3-cell-cell-schema
name: cell_cell_schema
description: Schema for connectivity measurements that are cell to cell.
imports:
  - base_schema
  - core_schema

classes:
  CellCellMeasurementSet:
    description: Set connection measurements values between multiple DataItems for a single measurement type.
    slots:
      - id
      - presynaptic_data_item
      - post_data_item
      - measurement_type
      - modality
      - values
      - unit
    slot_usage:
      presynaptic_data_item:
        range: DataItem
        required: true
      postsynaptic_data_item:
        range: DataItem
        required: true
      measurement_type:
        range: SynapticMeasurementType
        required: true
      modality:
        range: Modality
      values:
        multivalued: true
        range: float
        description: Numeric values aligned positionally with target_regions.
      unit:
        range: Unit

  ProjectionMeasurementMatrix:
    description: Aggregated projection measurements for a cohort (e.g., all cells) for a single measurement type.
    slots:
      - id
      - description
      - measurement_type
      - modality
      - region_index
      - data_item_index
      - values
      - unit
    slot_usage:
      measurement_type:
        range: ProjectionMeasurementType
      modality:
        range: Modality
      region_index:
        multivalued: true
        range: BrainRegion
        inlined: false
        description: Ordered regions defining columns (or rows) of the matrix.
      data_item_index:
        multivalued: true
        range: DataItem
        inlined: false
        description: Ordered data items defining rows (or columns) of the matrix.
      values:
        multivalued: true
        range: float
        description: Flattened matrix values in row-major order (data_item_index x region_index).
      unit:
        range: Unit

slots:
  data_item:
    description: The DataItem for which projection measurements are reported.
  measurement_type:
    description: The specific projection measurement type (enum) for this set.
  region_index:
    description: Ordered list of regions indexing a matrix or values vector.
  data_item_index:
    description: Ordered list of data items indexing a matrix.
  values:
    description: Numeric data values; interpretation depends on measurement_type.
  target_regions:
    description: Regions corresponding to each value in a ProjectionMeasurementSet.
  unit:
    description: Unit of measure for the values.
  description_text:
    description: Free-text description for measurement type metadata.
  default_unit:
    description: Default unit recommended for this measurement type.
